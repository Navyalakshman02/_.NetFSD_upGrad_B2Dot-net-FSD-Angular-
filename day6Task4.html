<!DOCTYPE html>
<html>
<head>
    <title>Expense Tracker</title>
</head>
<body>

<h2>Expense Tracker</h2>

Title: <input type="text" id="title"><br><br>
Amount: <input type="number" id="amount"><br><br>
Date: <input type="date" id="date"><br><br>

<button onclick="addExpense()">Add Expense</button>
<button onclick="viewExpenses()">View Expenses</button>

<ul id="expenseList"></ul>

<script>
    var db = openDatabase("ExpenseDB", "1.0", "Expense Database", 2 * 1024 * 1024);

    db.transaction(function (tx) {
        tx.executeSql(
            "CREATE TABLE IF NOT EXISTS expenses (id INTEGER PRIMARY KEY, title TEXT, amount REAL, date TEXT)"
        );
    });

    function addExpense() {
        var title = document.getElementById("title").value;
        var amount = document.getElementById("amount").value;
        var date = document.getElementById("date").value;

        db.transaction(function (tx) {
            tx.executeSql(
                "INSERT INTO expenses (title, amount, date) VALUES (?, ?, ?)",
                [title, amount, date]
            );
        });

        alert("Expense Added");
    }

    function viewExpenses() {
        var list = document.getElementById("expenseList");
        list.innerHTML = "";

        db.transaction(function (tx) {
            tx.executeSql("SELECT * FROM expenses", [], function (tx, results) {
                for (var i = 0; i < results.rows.length; i++) {
                    var item = results.rows.item(i);
                    var li = document.createElement("li");
                    li.innerHTML =
                        item.title + " - " + item.amount + " - " + item.date +
                        " <button onclick='deleteExpense(" + item.id + ")'>Delete</button>";
                    list.appendChild(li);
                }
            });
        });
    }

    function deleteExpense(id) {
        db.transaction(function (tx) {
            tx.executeSql("DELETE FROM expenses WHERE id=?", [id]);
        });
        viewExpenses();
    }
</script>

</body>
</html>
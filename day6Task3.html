<!DOCTYPE html>
<html>
<head>
    <title>Location Logger</title>
</head>
<body onload="loadHistory()">

<h2>Location Tracker</h2>

<button onclick="getLocation()">Get My Location</button>

<p id="result"></p>

<h3>Location History</h3>
<ul id="history"></ul>

<script>
    function getLocation() {
        navigator.geolocation.getCurrentPosition(success, error);
    }

    function success(position) {
        var lat = position.coords.latitude;
        var lon = position.coords.longitude;

        document.getElementById("result").innerHTML =
            "Latitude: " + lat + "<br>Longitude: " + lon;

        var history = JSON.parse(localStorage.getItem("locations")) || [];
        history.push({ latitude: lat, longitude: lon });

        if (history.length > 5) {
            history.shift();
        }

        localStorage.setItem("locations", JSON.stringify(history));
        loadHistory();
    }

    function error(err) {
        if (err.code === 1) alert("Permission Denied");
        else if (err.code === 2) alert("Location Unavailable");
        else if (err.code === 3) alert("Request Timeout");
    }

    function loadHistory() {
        var history = JSON.parse(localStorage.getItem("locations")) || [];
        var list = document.getElementById("history");
        list.innerHTML = "";

        history.forEach(function(loc) {
            var li = document.createElement("li");
            li.innerHTML = loc.latitude + ", " + loc.longitude;
            list.appendChild(li);
        });
    }
</script>

</body>
</html>